


/dts-v1/;

#include "rk3399.dtsi"
#include "rk3399-linux.dtsi"
#include "rk3399-opp.dtsi"
#include <dt-bindings/input/input.h>
#include <dt-bindings/pwm/pwm.h>

/ {
	compatible = "rockchip,rk3399-linux", "rockchip,rk3399", "rockchip,rk3399-r2teck";

        backlight: backlight {
                status = "disabled";
                compatible = "pwm-backlight";
                pwms = <&pwm0 0 25000 0>;
                brightness-levels = <
                          0   1   2   3   4   5   6   7
                          8   9  10  11  12  13  14  15
                         16  17  18  19  20  21  22  23
                         24  25  26  27  28  29  30  31
                         32  33  34  35  36  37  38  39
                         40  41  42  43  44  45  46  47
                         48  49  50  51  52  53  54  55
                         56  57  58  59  60  61  62  63
                         64  65  66  67  68  69  70  71
                         72  73  74  75  76  77  78  79
                         80  81  82  83  84  85  86  87
                         88  89  90  91  92  93  94  95
                         96  97  98  99 100 101 102 103
                        104 105 106 107 108 109 110 111
                        112 113 114 115 116 117 118 119
                        120 121 122 123 124 125 126 127
                        128 129 130 131 132 133 134 135
                        136 137 138 139 140 141 142 143
                        144 145 146 147 148 149 150 151
                        152 153 154 155 156 157 158 159
                        160 161 162 163 164 165 166 167
                        168 169 170 171 172 173 174 175
                        176 177 178 179 180 181 182 183
                        184 185 186 187 188 189 190 191
                        192 193 194 195 196 197 198 199
                        200 201 202 203 204 205 206 207
                        208 209 210 211 212 213 214 215
                        216 217 218 219 220 221 222 223
                        224 225 226 227 228 229 230 231
                        232 233 234 235 236 237 238 239
                        240 241 242 243 244 245 246 247
                        248 249 250 251 252 253 254 255>;
                default-brightness-level = <200>;
        };    

	fiq_debugger: fiq-debugger {
		compatible = "rockchip,fiq-debugger";
		rockchip,serial-id = <2>;
		rockchip,signal-irq = <182>;
		rockchip,wake-irq = <0>;
		rockchip,irq-mode-enable = <1>;  	/* If enable uart uses irq instead of fiq */
		rockchip,baudrate = <1500000>;  	/* Only 115200 and 1500000 */
		pinctrl-names = "default";
		pinctrl-0 = <&uart2c_xfer>;
	};

	es8316-sound {
		status = "okay";
		compatible = "simple-audio-card";
		simple-audio-card,format = "i2s";
		simple-audio-card,name = "rockchip,es8316-codec";
		simple-audio-card,mclk-fs = <256>;
		simple-audio-card,widgets =
			"Microphone", "Mic Jack",
			"Headphone", "Headphone Jack";
		simple-audio-card,routing =
			"Mic Jack", "MICBIAS1",
			"IN1P", "Mic Jack",
			"Headphone Jack", "HPOL",
			"Headphone Jack", "HPOR";
		simple-audio-card,cpu {
			sound-dai = <&i2s1>;
		};
		simple-audio-card,codec {
			sound-dai = <&es8316>;
		};
	};

	vcc3v3_sys: vcc3v3-sys {
		compatible = "regulator-fixed";
		regulator-name = "vcc3v3_sys";
		regulator-always-on;
		regulator-boot-on;
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
	};

//*
	vcc5v0_host: vcc5v0-host-regulator {
		compatible = "regulator-fixed";
		enable-active-high;
		//gpio = <&gpio4 25 GPIO_ACTIVE_HIGH>;
		pinctrl-names = "default";
		//pinctrl-0 = <&host_vbus_drv>;
		regulator-name = "vcc5v0_host";
		regulator-always-on;
	};
//*/

	vcc_sys: vcc-sys {
		compatible = "regulator-fixed";
		regulator-name = "vcc_sys";
		regulator-always-on;
		regulator-boot-on;
		regulator-min-microvolt = <4000000>;
		regulator-max-microvolt = <4000000>;
	};

 	vcc_sd: vcc-sd {
		compatible = "regulator-fixed";
		enable-active-high;
		gpio = <&gpio0 1 GPIO_ACTIVE_HIGH>;
		pinctrl-names = "default";
		pinctrl-0 = <&vcc_sd_h>;
		regulator-name = "vcc_sd";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
	};

	vcc_phy: vcc-phy-regulator {
		compatible = "regulator-fixed";
		regulator-name = "vcc_phy";
		regulator-always-on;
		regulator-boot-on;
	};

	vcc_phy: vcc-phy-regulator {
		compatible = "regulator-fixed";
		regulator-name = "vcc_phy";
		regulator-always-on;
		regulator-boot-on;
	};

	clkin_gmac: external-gmac-clock {
		compatible = "fixed-clock";
		clock-frequency = <125000000>;
		clock-output-names = "clkin_gmac";
		#clock-cells = <0>;
	};

	adc-keys {
		compatible = "adc-keys";
		io-channels = <&saradc 1>;
		io-channel-names = "buttons";
		//poll-interval = <100>;
		keyup-threshold-microvolt = <1800000>;

		button-up {
			label = "Volume Up";
			linux,code = <KEY_VOLUMEUP>;
			press-threshold-microvolt = <100000>;
		};

		button-down {
			label = "Volume Down";
			linux,code = <KEY_VOLUMEDOWN>;
			press-threshold-microvolt = <300000>;
		};

		back {
			label = "Back";
			linux,code = <KEY_BACK>;
			press-threshold-microvolt = <985000>;
		};

		menu {
			label = "Menu";
			linux,code = <KEY_MENU>;
			press-threshold-microvolt = <1314000>;
		};
	};

	//key for recording, freq switch, picture quality
	gpio-keys {
		compatible = "gpio-keys";
		#address-cells = <1>;
		#size-cells = <0>;
		autorepeat;

		pinctrl-names = "default";
		pinctrl-0 = <&pwrbtn>;
/*
		button@0 {
			gpios = <&gpio0 5 GPIO_ACTIVE_LOW>;
			linux,code = <KEY_POWER>;
			label = "GPIO Key Power";
			linux,input-type = <1>;
			gpio-key,wakeup = <1>;
			debounce-interval = <100>;
		};
*/

		button@1 {
			gpios = <&gpio2 18 GPIO_ACTIVE_LOW>;
			linux,code = <100>;
			label = "GPIO Key Power1";
			linux,input-type = <1>;
			gpio-key,wakeup = <0>;
			debounce-interval = <100>;
		};

		button@2 {
			gpios = <&gpio2 19 GPIO_ACTIVE_LOW>;
			linux,code = <101>;
			label = "GPIO Key Power2";
			linux,input-type = <1>;
			gpio-key,wakeup = <0>;
			debounce-interval = <100>;
		};

		button@3 {
			gpios = <&gpio2 20 GPIO_ACTIVE_LOW>;
			linux,code = <102>;
			label = "GPIO Key Power3";
			linux,input-type = <1>;
			gpio-key,wakeup = <0>;
			debounce-interval = <100>;
		};
	};
//*
        //leds show for app info.
        leds: gpio-leds {
                compatible = "gpio-leds";
                pinctrl-names = "default";
                pinctrl-0 =<&leds_gpio>;

                led@1 {
                        gpios = <&gpio4 21 GPIO_ACTIVE_LOW>;
                        label = "net_link_led";
                        retain-state-suspended;
                };   

                led@2 {
                        gpios = <&gpio4 25 GPIO_ACTIVE_LOW>;
                        label = "reserve";
                        retain-state-suspended;
                };   

                led@3 {
                        gpios = <&gpio4 29 GPIO_ACTIVE_LOW>;
                        label = "hdmi_led";
                };   

                led@4 {
                        gpios = <&gpio4 30 GPIO_ACTIVE_LOW>;
                        label = "tf_save_led";
                };   

                led@5 {
                        gpios = <&gpio4 22 GPIO_ACTIVE_LOW>;
                        label = "work_pwm";
                };   

        };   
//*/

        rk3399-switch {
                compatible = "rockchip,rk3399-switch";
                sw1 = <&gpio2 21 GPIO_ACTIVE_HIGH>;
                sw2 = <&gpio2 22 GPIO_ACTIVE_HIGH>;
				sw3 = <&gpio2 23 GPIO_ACTIVE_HIGH>;
                status = "okay";
        };
};

&cpu_l0 {
	cpu-supply = <&vdd_cpu_l>;
};

&cpu_l1 {
	cpu-supply = <&vdd_cpu_l>;
};

&cpu_l2 {
	cpu-supply = <&vdd_cpu_l>;
};

&cpu_l3 {
	cpu-supply = <&vdd_cpu_l>;
};

&cpu_b0 {
	cpu-supply = <&vdd_cpu_b>;
};

&cpu_b1 {
	cpu-supply = <&vdd_cpu_b>;
};

&backlight {
        status = "okay";
        enable-gpios = <&gpio1 13 GPIO_ACTIVE_HIGH>;
};

&display_subsystem {
	status = "okay";
};

&emmc_phy {
	status = "okay";
};

&gmac {
	phy-supply = <&vcc_phy>;
	phy-mode = "rgmii";
	clock_in_out = "input";
	snps,reset-gpio = <&gpio3 15 GPIO_ACTIVE_LOW>;
	snps,reset-active-low;
	snps,reset-delays-us = <0 10000 50000>;
	assigned-clocks = <&cru SCLK_RMII_SRC>;
	assigned-clock-parents = <&clkin_gmac>;
	pinctrl-names = "default";
	pinctrl-0 = <&rgmii_pins>;
	tx_delay = <0x28>;
	rx_delay = <0x11>;
	status = "okay";
};

&gpu {
	status = "okay";
	mali-supply = <&vdd_gpu>;
};


&hdmi {
	/* remove the hdmi_cec, reused by edp_hpd */
	pinctrl-0 = <&hdmi_i2c_xfer>;
	#address-cells = <1>;
	#size-cells = <0>;
	#sound-dai-cells = <0>;
	status = "okay";
};

&i2c0 {
	status = "okay";
	i2c-scl-rising-time-ns = <168>;
	i2c-scl-falling-time-ns = <4>;
	clock-frequency = <400000>;

	vdd_cpu_b: syr827@40 {
		compatible = "silergy,syr827";
		reg = <0x40>;
		regulator-compatible = "fan53555-reg";
		pinctrl-0 = <&vsel1_gpio>;
		vsel-gpios = <&gpio1 17 GPIO_ACTIVE_HIGH>;
		regulator-name = "vdd_cpu_b";
		regulator-min-microvolt = <712500>;
		regulator-max-microvolt = <1500000>;
		regulator-ramp-delay = <1000>;
		fcs,suspend-voltage-selector = <1>;
		regulator-always-on;
		regulator-boot-on;
		vin-supply = <&vcc_sys>;
		regulator-state-mem {
			regulator-off-in-suspend;
		};
	};

	vdd_gpu: syr828@41 {
		compatible = "silergy,syr828";
		reg = <0x41>;
		regulator-compatible = "fan53555-reg";
		pinctrl-0 = <&vsel2_gpio>;
		vsel-gpios = <&gpio1 14 GPIO_ACTIVE_HIGH>;
		regulator-name = "vdd_gpu";
		regulator-min-microvolt = <712500>;
		regulator-max-microvolt = <1500000>;
		regulator-ramp-delay = <1000>;
		fcs,suspend-voltage-selector = <1>;
		regulator-always-on;
		regulator-boot-on;
		vin-supply = <&vcc_sys>;
		regulator-initial-mode = <1>; /* 1:force PWM 2:auto */
		regulator-state-mem {
			regulator-off-in-suspend;
		};
	};

	rk808: pmic@1b {
		compatible = "rockchip,rk808";
		reg = <0x1b>;
		interrupt-parent = <&gpio1>;
		interrupts = <21 IRQ_TYPE_LEVEL_LOW>;
		pinctrl-names = "default";
		pinctrl-0 = <&pmic_int_l>;
		rockchip,system-power-controller;
		wakeup-source;
		#clock-cells = <1>;
		clock-output-names = "rk808-clkout1", "rk808-clkout2";

		vcc1-supply = <&vcc_sys>;
		vcc2-supply = <&vcc_sys>;
		vcc3-supply = <&vcc_sys>;
		vcc4-supply = <&vcc_sys>;
		vcc6-supply = <&vcc_sys>;
		vcc7-supply = <&vcc_sys>;
		vcc8-supply = <&vcc3v3_sys>;
		vcc9-supply = <&vcc_sys>;
		vcc10-supply = <&vcc_sys>;
		vcc11-supply = <&vcc_sys>;
		vcc12-supply = <&vcc3v3_sys>;
		vddio-supply = <&vcc_1v8>;

		regulators {
			vdd_center: DCDC_REG1 {
				regulator-name = "vdd_center";
				regulator-min-microvolt = <750000>;
				regulator-max-microvolt = <1350000>;
				regulator-ramp-delay = <6001>;
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-off-in-suspend;
				};
			};

			vdd_cpu_l: DCDC_REG2 {
				regulator-name = "vdd_cpu_l";
				regulator-min-microvolt = <750000>;
				regulator-max-microvolt = <1350000>;
				regulator-ramp-delay = <6001>;
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-off-in-suspend;
				};
			};

			vcc_ddr: DCDC_REG3 {
				regulator-name = "vcc_ddr";
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
				};
			};

			vcc_1v8: DCDC_REG4 {
				regulator-name = "vcc_1v8";
				regulator-min-microvolt = <1800000>;
				regulator-max-microvolt = <1800000>;
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
					regulator-suspend-microvolt = <1800000>;
				};
			};

			vcca3v0_codec: LDO_REG1 {
				regulator-name = "vcca3v0_codec";
				regulator-min-microvolt = <3000000>;
				regulator-max-microvolt = <3000000>;
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
					regulator-suspend-microvolt = <3000000>;
				};
			};

			vcca1v8_hdmi: LDO_REG2 {
				regulator-name = "vcca1v8_hdmi";
				regulator-min-microvolt = <1800000>;
				regulator-max-microvolt = <1800000>;
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
					regulator-suspend-microvolt = <1800000>;
				};
			};

			vcca_1v8: LDO_REG3 {
				regulator-name = "vcca_1v8";
				regulator-min-microvolt = <1800000>;
				regulator-max-microvolt = <1800000>;
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
					regulator-suspend-microvolt = <1800000>;
				};
			};

			vcc_sdio: LDO_REG4 {
				regulator-name = "vcc_sdio";
				regulator-min-microvolt = <1800000>;
				regulator-max-microvolt = <3000000>;
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
					regulator-suspend-microvolt = <3000000>;
				};
			};

			vcca1v8_codec: LDO_REG5 {
				regulator-name = "vcca1v8_codec";
				regulator-min-microvolt = <1800000>;
				regulator-max-microvolt = <1800000>;
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
					regulator-suspend-microvolt = <1800000>;
				};
			};

			vcc_1v5: LDO_REG6 {
				regulator-name = "vcc_1v5";
				regulator-min-microvolt = <1500000>;
				regulator-max-microvolt = <1500000>;
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
					regulator-suspend-microvolt = <1500000>;
				};
			};

			vcca0v9_hdmi: LDO_REG7 {
				regulator-name = "vcca0v9_hdmi";
				regulator-min-microvolt = <900000>;
				regulator-max-microvolt = <900000>;
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
					regulator-suspend-microvolt = <900000>;
				};
			};

			vcc_3v0: LDO_REG8 {
				regulator-name = "vcc_3v0";
				regulator-min-microvolt = <3000000>;
				regulator-max-microvolt = <3000000>;
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
					regulator-suspend-microvolt = <3000000>;
				};
			};

			vcc3v3_s3: SWITCH_REG1 {
				regulator-name = "vcc3v3_s3";
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
				};
			};

			vcc3v3_s0: SWITCH_REG2 {
				regulator-name = "vcc3v3_s0";
				regulator-always-on;
				regulator-boot-on;
				regulator-state-mem {
					regulator-on-in-suspend;
				};
			};
		};
	};
};

&i2c1 {
	status = "okay";
	i2c-scl-rising-time-ns = <168>;
	i2c-scl-falling-time-ns = <4>;

	es8316: es8316@10 {
		#sound-dai-cells = <0>;
		compatible = "everest,es8316";
		reg = <0x10>;
		clocks = <&cru SCLK_I2S_8CH_OUT>;
		clock-names = "mclk";
		pinctrl-names = "default";
		pinctrl-0 = <&i2s_8ch_mclk>;
		hp-det-gpio = <&gpio1 RK_PB5 GPIO_ACTIVE_LOW>;
	};
};

&i2s1 {
	status = "okay";
	rockchip,i2s-broken-burst-len;
	rockchip,playback-channels = <8>;
	rockchip,capture-channels = <8>;
	#sound-dai-cells = <0>;
};

/*
&spi1 {
	status = "okay";
	max-freq = <48000000>;  
	//dma-names = "tx", "rx";
	spidev@00 {
		compatible = "spidev";
		reg = <0x00>;
		spi-max-frequency = <48000000>;
	};
	spi_test@10 {
		compatible ="rockchip, spi_test_bus1_cs0";
		reg = <0>;
		spi-max-frequency = <24000000>;
		spi-cpha;

		spi‚Äêcpol;
		spi-cs-high;
		status = "okay";
	}
};
*/

/*
&spi0 {
	status = "okay";
	max-freq = <48000000>;   //spi internal clk, don't modify
	//dma-names = "tx", "rx";   //enable dma
	pinctrl-names = "default";  //pinctrl according to you board
	pinctrl-0 = <&spi0_clk &spi0_tx &spi0_rx &spi0_cs0 &spi0_cs1>;
	spi_test@00 {
		compatible = "rockchip,spi_test_bus0_cs0";
		reg = <0>;   //chip select  0:cs0  1:cs1
		id = <0>;
		spi-max-frequency = <24000000>;   //spi output clock
		//spi-cpha;      not support
		//spi-cpol;     //if the property is here it is 1:clk is high, else 0:clk is low  when idle
	};

	spi_test@01 {
		compatible = "rockchip,spi_test_bus0_cs1";
		reg = <1>;
		id = <1>;
		spi-max-frequency = <24000000>;
		spi-cpha;
		spi-cpol;
	};
};
*/

&spi2 {
	status = "okay";
	max-freq = <48000000>;  
	spidev@00 {
		compatible = "linux,spidev";
		reg = <0x00>;
		spi-max-frequency = <48000000>;
	};
};

&io_domains {
	status = "okay";

	//bt656-supply = <&vcc1v8_dvp>;
	audio-supply = <&vcca1v8_codec>;
	sdmmc-supply = <&vcc_sdio>;
	gpio1830-supply = <&vcc_3v0>;
};

&gpu {
	status = "okay";
	mali-supply = <&vdd_gpu>;
};

&dsi {
        status = "okay";
        panel@0 {
                compatible ="simple-panel-dsi";
                reg = <0>;
                backlight = <&backlight>;
                reset-gpios = <&gpio2 26 GPIO_ACTIVE_HIGH>;
                enable-gpios = <&gpio4 26 GPIO_ACTIVE_HIGH>;
                //dsi,flags = <(MIPI_DSI_MODE_VIDEO)>;
                dsi,flags = <(MIPI_DSI_MODE_VIDEO | MIPI_DSI_MODE_VIDEO_BURST)>;
                dsi,format = <MIPI_DSI_FMT_RGB888>;
                dsi,lanes = <4>;
                //rockchip,lane-rate = <580>;
                panel-init-sequence = [
                        29 00 04 ff 98 81 03
                        23 00 02 01 00
                        23 00 02 02 00
                        23 00 02 03 56
                        23 00 02 04 13
                        23 00 02 05 00
                        23 00 02 06 06
                        23 00 02 07 01
                        23 00 02 08 00
                        23 00 02 09 30
                        23 00 02 0a 01
                        23 00 02 0b 00
                        23 00 02 0c 30
                        23 00 02 0d 01
                        23 00 02 0e 00
                        23 00 02 0f 18
                        23 00 02 10 18
                        23 00 02 11 00
                        23 00 02 12 00
                        23 00 02 13 00
                        23 00 02 14 00
                        23 00 02 15 00
                        23 00 02 16 00
                        23 00 02 17 00
                        23 00 02 18 00
                        23 00 02 19 00
                        23 00 02 1a 00
                        23 00 02 1b 00
                        23 00 02 1c 00
                        23 00 02 1d 00
                        23 00 02 1e 40
                        23 00 02 1f c0
                        23 00 02 20 02
                        23 00 02 21 05
                        23 00 02 22 02
                        23 00 02 23 00
                        23 00 02 24 86
                        23 00 02 25 85
                        23 00 02 26 00
                        23 00 02 27 00
                        23 00 02 28 3b
                        23 00 02 29 03
                        23 00 02 2a 00
                        23 00 02 2b 00
                        23 00 02 2c 00
                        23 00 02 2d 00
                        23 00 02 2e 00
                        23 00 02 2f 00
                        23 00 02 30 00
                        23 00 02 31 00
                        23 00 02 32 00
                        23 00 02 33 00
                        23 00 02 34 00
                        23 00 02 35 00
                        23 00 02 36 00
                        23 00 02 37 00
                        23 00 02 38 00
                        23 00 02 39 00
                        23 00 02 3a 00
                        23 00 02 3b 00
                        23 00 02 3c 00
                        23 00 02 3d 00
                        23 00 02 3e 00
                        23 00 02 3f 00
                        23 00 02 40 00
                        23 00 02 41 00
                        23 00 02 42 00
                        23 00 02 43 00
                        23 00 02 44 00
                        23 00 02 50 01
                        23 00 02 51 23
                        23 00 02 52 45
                        23 00 02 53 67
                        23 00 02 54 89
                        23 00 02 55 ab
                        23 00 02 56 01
                        23 00 02 57 23
                        23 00 02 58 45
                        23 00 02 59 67
                        23 00 02 5a 89
                        23 00 02 5b ab
                        23 00 02 5c cd
                        23 00 02 5d ef
                        23 00 02 5e 11
                        23 00 02 5f 08
                        23 00 02 60 00
                        23 00 02 61 01
                        23 00 02 62 02
                        23 00 02 63 02
                        23 00 02 64 0f
                        23 00 02 65 0e
                        23 00 02 66 0d
                        23 00 02 67 0c
                        23 00 02 68 02
                        23 00 02 69 07
                        23 00 02 6a 02
                        23 00 02 6b 02
                        23 00 02 6c 02
                        23 00 02 6d 02
                        23 00 02 6e 06
                        23 00 02 6f 02
                        23 00 02 70 02
                        23 00 02 71 02
                        23 00 02 72 02
                        23 00 02 73 02
                        23 00 02 74 02
                        23 00 02 75 06
                        23 00 02 76 00
                        23 00 02 77 01
                        23 00 02 78 02
                        23 00 02 79 02
                        23 00 02 7a 0f
                        23 00 02 7b 0e
                        23 00 02 7c 0d
                        23 00 02 7d 0c
                        23 00 02 7e 02
                        23 00 02 7f 07
                        23 00 02 80 02
                        23 00 02 81 02
                        23 00 02 82 02
                        23 00 02 83 02
                        23 00 02 84 08
                        23 00 02 85 02
                        23 00 02 86 02
                        23 00 02 87 02
                        23 00 02 88 02
                        23 00 02 89 02
                        23 00 02 8a 02
                        29 00 04 ff 98 81 04
                        23 00 02 6c 15
                        23 00 02 6e 2b
                        23 00 02 6f 30
                        23 00 02 8d 15
                        23 00 02 87 ba
                        23 00 02 26 76
                        23 00 02 b2 d1
                        23 00 02 b5 07
                        23 00 02 35 1f
                        23 00 02 3a 24
                        29 00 04 ff 98 81 01
                        23 00 02 22 3a
                        23 00 02 a9 1c
                        23 00 02 aa 29
                        23 00 02 ab 87
                        23 00 02 ac 1b
                        23 00 02 ad 1a
                        23 00 02 ae 4d
                        23 00 02 af 22
                        23 00 02 b0 29
                        23 00 02 b1 4b
                        23 00 02 b2 52
                        23 00 02 b3 39
                        23 00 02 c0 08
                        23 00 02 c1 1b
                        23 00 02 c2 28
                        23 00 02 c3 0c
                        23 00 02 c4 12
                        23 00 02 c5 24
                        23 00 02 c6 19
                        23 00 02 c7 1d
                        23 00 02 c8 90
                        23 00 02 c9 1c
                        23 00 02 ca 29
                        23 00 02 cb 87
                        23 00 02 cc 1b
                        23 00 02 cd 1a
                        23 00 02 ce 4d
                        23 00 02 cf 22
                        23 00 02 d0 29
                        23 00 02 d1 48
                        23 00 02 d2 52
                        23 00 02 d3 39
                        29 00 04 ff 98 81 00
                        05 00 01 35
                        05 78 01 11
                        05 14 01 29
                ];
                status = "okay";
                display-timings {
                        native-mode = <&timing0>;
                        timing0: timing0 {
                                clock-frequency = <145000000>;//120fps <120000000>;//119fps <135000000>;//<145000000>;//<145000000>;//<145000000>;//
                                hactive         = <720>;      //       <720>;      //       <720>;      //<720>;      //<720>;      //<720>;      //
                                vactive         = <1280>;     //       <1280>;     //       <1280>;     //<1280>;     //<1280>;     //<1280>;     //
                                hback-porch     = <120>;      //       <13>;       //       <100>;      //<100>;      //<120>;      //<100>;      //  
                                hfront-porch    = <20>;       //       <34>;       //       <18>;       //<20>;       //<40>;       //<20>;       //  
                                vback-porch     = <40>;       //       <10>;       //       <40>;     	//<40>;       //<40>;       //<40>;       //
                                vfront-porch    = <20>;       //       <13>;       //       <20>;     	//<20>;       //<20>;       //<20>;       //
                                hsync-len       = <40>;       //       <7>;        //       <20>;  	//<60>;       //<20>;       //<60>;       //
                                vsync-len       = <2>;        //       <2>;        //       <2>;        //<2>;        //<2>;        //<2>;        //
                                hsync-active    = <0>;
                                vsync-active    = <0>;
                                de-active       = <0>;
                                pixelclk-active = <0>;
                        };
                };
        };
};

&pcie0 {
	ep-gpios = <&gpio2 4 GPIO_ACTIVE_HIGH>;
	num-lanes = <4>;
	pinctrl-names = "default";
	pinctrl-0 = <&pcie_clkreqn>;
	status = "okay";
};

&pcie_phy {
	status = "okay";
};

&pmu_io_domains {
	status = "okay";
	pmu1830-supply = <&vcc_1v8>;
};

&pwm0 {
	status = "okay";
};

&pwm2 {
	status = "okay";
};

&rockchip_suspend {
	status = "okay";
	rockchip,sleep-debug-en = <1>;
	rockchip,sleep-mode-config = <
		(0
		| RKPM_SLP_ARMPD
		| RKPM_SLP_PERILPPD
		| RKPM_SLP_DDR_RET
		| RKPM_SLP_PLLPD
		| RKPM_SLP_CENTER_PD
		| RKPM_SLP_OSC_DIS
		| RKPM_SLP_AP_PWROFF
		)
	>;
	rockchip,wakeup-config = <
		(0
		| RKPM_GPIO_WKUP_EN
		)
	>;
	rockchip,pwm-regulator-config = <
		(0
		| PWM2_REGULATOR_EN
		)
	>;
	rockchip,power-ctrl =
		<&gpio1 17 GPIO_ACTIVE_HIGH>,
		<&gpio1 14 GPIO_ACTIVE_HIGH>;
};

&rkvdec {
	status = "okay";
	/* 0 means ion, 1 means drm */
	//allocator = <0>;
};

&route_edp {
	status = "disabled";
};

&sdmmc {
	clock-frequency = <50000000>;
	clock-freq-min-max = <400000 150000000>;
	supports-sd;
	bus-width = <4>;
	cap-mmc-highspeed;
	cap-sd-highspeed;
	disable-wp;
	num-slots = <1>;
	//sd-uhs-sdr104;
	vqmmc-supply = <&vcc_sd>;
	pinctrl-names = "default";
	pinctrl-0 = <&sdmmc_clk &sdmmc_cmd &sdmmc_cd &sdmmc_bus4>;
	status = "okay";
};

&spdif {
	status = "okay";
	#sound-dai-cells = <0>;
};

&sdhci {
	bus-width = <8>;
	mmc-hs400-1_8v;
	supports-emmc;
	non-removable;
	keep-power-in-suspend;
	mmc-hs400-enhanced-strobe;
	status = "okay";
};

&tsadc {
	rockchip,hw-tshut-mode = <1>; /* tshut mode 0:CRU 1:GPIO */
	rockchip,hw-tshut-polarity = <1>; /* tshut polarity 0:LOW 1:HIGH */
	status = "okay";
};

&u2phy0 {
	status = "okay";
	//extcon = <&fusb0>;

	u2phy0_otg: otg-port {
		status = "okay";
	};

	u2phy0_host: host-port {
		phy-supply = <&vcc5v0_host>;
		status = "okay";
	};
};

&uart0 {
	pinctrl-names = "default";
	pinctrl-0 = <&uart0_xfer &uart0_cts>;
	status = "okay";
};
/*
&uart2 {
	status = "okay";
};
*/


&usb_host0_ehci {
	status = "okay";
};

&usb_host0_ohci {
	status = "okay";
};

&usbdrd_dwc3_0 {
	status = "okay";
};

&vpu {
	status = "okay";
	/* 0 means ion, 1 means drm */
	//allocator = <0>;
};

&vopb {
	status = "okay";
};

&vopb_mmu {
	status = "okay";
};

&vopl {
	status = "okay";
};

&vopl_mmu {
	status = "okay";
};


&uart4 {
	//current-speed = <115200>;
	//no-loopback-test;
	status = "okay";
	//status = "disabled";
};

&pinctrl {

	buttons {
		pwrbtn: pwrbtn {
			rockchip,pins = /*<0 5 RK_FUNC_GPIO &pcfg_pull_up>,*/
					<2 18 RK_FUNC_GPIO &pcfg_pull_up>,
					<2 19 RK_FUNC_GPIO &pcfg_pull_up>,
					<2 20 RK_FUNC_GPIO &pcfg_pull_up>;
/*
					<2 21 RK_FUNC_GPIO &pcfg_pull_up>,
					<2 22 RK_FUNC_GPIO &pcfg_pull_up>,
					<2 23 RK_FUNC_GPIO &pcfg_pull_up>;
*/
		};
	};

	vcc_sd {
               vcc_sd_h: vcc-sd-h {
                       rockchip,pins =
                               <0 1 RK_FUNC_GPIO &pcfg_pull_up>;
               };
        };

	pmic {
		pmic_int_l: pmic-int-l {
			rockchip,pins =
				<1 21 RK_FUNC_GPIO &pcfg_pull_up>;
		};

		vsel1_gpio: vsel1-gpio {
			rockchip,pins =
				<1 17 RK_FUNC_GPIO &pcfg_pull_down>;
		};

		vsel2_gpio: vsel2-gpio {
			rockchip,pins =
				<1 14 RK_FUNC_GPIO &pcfg_pull_down>;
		};
	};

	cm3218 {
		cm3218_irq_gpio: cm3218-irq-gpio {
			rockchip,pins = <4 24 RK_FUNC_GPIO &pcfg_pull_up>;
		};
	};
/*
	usb2 {
		host_vbus_drv: host-vbus-drv {
			rockchip,pins =
				<4 25 RK_FUNC_GPIO &pcfg_pull_none>;
		};
	};
*/

	gpio-leds {
		leds_gpio: leds-gpio {
					   rockchip,pins =
						   <4 21 RK_FUNC_GPIO &pcfg_pull_up>,
						   <4 25 RK_FUNC_GPIO &pcfg_pull_up>,
						   <4 29 RK_FUNC_GPIO &pcfg_pull_up>,
						   <4 30 RK_FUNC_GPIO &pcfg_pull_up>,
						   <4 22 RK_FUNC_GPIO &pcfg_pull_up>;
				   };
   };
};

&saradc {
        //status = "okay";
        status = "disabled";
};
